
- 주제: [[개념정리]]

- 태그: #serverComponent #clientComponent #next #useState #useEffect #onClick #onChange #개념 


|            | Server                        | Client                  |
| ---------- | ----------------------------- | ----------------------- |
| 실행위치       | 서버(빌드 시점, 요청 시)               | 브라우저(사용자 PC)            |
| 기본값        | App Router의 모든 컴포넌트           | 파일 최상단에 "use Client" 명시 |
| 장점         | 보안 우수, 번들 크기 감소, (속도 최상)      | 사용자와 상호 작용 가능           |
| 파일읽기       | 가능 (fs, readFilSync 등)        | 불가능                     |
| React Hook | 사용 불가 (useState, useEffect 등) | 사용 가능                   |
| 이벤트 리스너    | 사용 불가 (onClick, onChange 등)   | 사용 가능                   |

### 왜 나누어서 쓸까? (블로그 예시)

모든 것을 클라이언트 파일로 만들게 되면, 사용자는 페이지에 접속할 때 아주 많은 자바스크립트 파일을 다운로드 해야해서 로딩이 느려집니다. 그래서 Next.js는 이를 해결하기 위해 할 수 있는 서버에서 다 끝내기로 했습니다. (꼭 필요한 것만 브라우저로 보내기)

- 서버 컴포넌트로 만들어야 하는 것 (대부분)
	- 포스트 목록 읽기: 컴퓨터 파일을 직접 읽어서 글 목록을 가져오는 작업 (보안상 서버에서만 작업 가능)
	- 마크다운 렌더링: 글 본문을  HTML로 변환해야하는 무거운 작업 (서버에서 미리 해서 결과만 전달 가능)
	- 정적인 레이아웃: 헤더, 푸터처럼 그냥 글자만 보여주는 부분
	- 클라이언트 컴포넌트로 만들어야 하는 것들: 테마 변경 버튼, 검색창, 댓글창 등





### 💡 Tip 어떻게 섞어쓸 수 있나?

서버 컴포넌트는 최대한 크게 잡고 (useClient 사용 x) / 필요한 부분만 작은 클라이언트 컴포넌트로 만들어서 끼워넣습니다.
- ex) 블로그 포스트 페이지 전체는 서버 컴포넌트지만, 그 안의 좋아요, 댓글 기능은 client 컴포넌트로 운영합니다. 





